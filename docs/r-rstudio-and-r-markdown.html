<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Statistical Learning with R</title>
  <meta name="description" content="Statistical Learning with R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Statistical Learning with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://teazrq.github.io/slwr/" />
  
  
  <meta name="github-repo" content="teazrq/slwr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Statistical Learning with R" />
  
  
  

<meta name="author" content="Ruoqing Zhu">


<meta name="date" content="2018-05-14">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="prev" href="index.html">
<link rel="next" href="modeling-basics-in-r.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Statistical Learning</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#whats-covered"><i class="fa fa-check"></i>What’s Covered?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>I Basics Knowledge</b></span></li>
<li class="chapter" data-level="1" data-path="r-rstudio-and-r-markdown.html"><a href="r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>1</b> R, RStudio and R Markdown</a><ul>
<li class="chapter" data-level="1.1" data-path="r-rstudio-and-r-markdown.html"><a href="r-rstudio-and-r-markdown.html#installing-and-using-r"><i class="fa fa-check"></i><b>1.1</b> Installing and Using R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html"><i class="fa fa-check"></i><b>2</b> Modeling Basics in <code>R</code></a><ul>
<li class="chapter" data-level="2.1" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#visualization-for-regression"><i class="fa fa-check"></i><b>2.1</b> Visualization for Regression</a></li>
<li class="chapter" data-level="2.2" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#the-lm-function"><i class="fa fa-check"></i><b>2.2</b> The <code>lm()</code> Function</a></li>
<li class="chapter" data-level="2.3" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#hypothesis-testing"><i class="fa fa-check"></i><b>2.3</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="2.4" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#prediction"><i class="fa fa-check"></i><b>2.4</b> Prediction</a></li>
<li class="chapter" data-level="2.5" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#unusual-observations"><i class="fa fa-check"></i><b>2.5</b> Unusual Observations</a></li>
<li class="chapter" data-level="2.6" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#adding-complexity"><i class="fa fa-check"></i><b>2.6</b> Adding Complexity</a><ul>
<li class="chapter" data-level="2.6.1" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#interactions"><i class="fa fa-check"></i><b>2.6.1</b> Interactions</a></li>
<li class="chapter" data-level="2.6.2" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#polynomials"><i class="fa fa-check"></i><b>2.6.2</b> Polynomials</a></li>
<li class="chapter" data-level="2.6.3" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#transformations"><i class="fa fa-check"></i><b>2.6.3</b> Transformations</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="modeling-basics-in-r.html"><a href="modeling-basics-in-r.html#rmarkdown"><i class="fa fa-check"></i><b>2.7</b> <code>rmarkdown</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="optimizations-in-r.html"><a href="optimizations-in-r.html"><i class="fa fa-check"></i><b>3</b> Optimizations in `R’</a><ul>
<li class="chapter" data-level="3.1" data-path="optimizations-in-r.html"><a href="optimizations-in-r.html#a-simple-optimization-problem"><i class="fa fa-check"></i><b>3.1</b> A simple optimization problem</a></li>
</ul></li>
<li class="part"><span><b>II Regression</b></span></li>
<li class="chapter" data-level="4" data-path="regression-overview.html"><a href="regression-overview.html"><i class="fa fa-check"></i><b>4</b> Overview</a></li>
<li class="divider"></li>
<li><a href="https://github.com/daviddalpiaz/r4sl" target="blank">&copy; 2017 David Dalpiaz</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Learning with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-rstudio-and-r-markdown" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> R, RStudio and R Markdown</h1>
<p>There are many online resources for how to use R, RStudio, and RMarkdown. For example, David Dalpiaz’s other online book <a href="http://daviddalpiaz.github.io/appliedstats/">Applied Statistics with R</a> contains an introduction to using them. There are also other online documentations such as</p>
<ul>
<li><a href="http://www.r-tutor.com/r-introduction">R tutorial</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLBgxzZMu3GpPojVSoriMTWQCUno_3hjNi">Data in R Playlist (video)</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLBgxzZMu3GpMjYhX7jLm5B9gEV7AOOJ5w">R and RStudio Playlist (video)</a></li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">R Markdown Cheat Sheet</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLBgxzZMu3GpNgd07DwmS-2odHtMO6MWGH">R Markdown Playlist (video)</a></li>
</ul>
<div id="installing-and-using-r" class="section level2">
<h2><span class="header-section-number">1.1</span> Installing and Using R</h2>
<p>R is a free-to-use software that is very popular in statistical computing. You can download R from its <a href="https://www.r-project.org/">official website</a>. Another software that makes using R easier is RStudio, which is available at <a href="https://www.rstudio.com/">here</a>. You can find many on-line guides that help you to set-up these two software, for example, this <a href="https://www.youtube.com/watch?v=cX532N_XLIs&amp;t=19s/"> YouTube video</a>. R Markdown is a build-in feature of RStudio. It works like a <span class="math display">\[\LaTex\]</span> version of the</p>
<p>This guild is created using R Markdown, which is a feature provided by Rstudio.</p>

<p>We will start with some basic operations. Try type-in the following commands into your R console and start to explore yourself. Most of them are self-explanatory. Lines with a # in the front are comments, which will not be executed. Lines with ## in the front are outputs.
</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">    <span class="co"># Basic mathematics</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">## [1] 4</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">    <span class="dv">3</span><span class="op">*</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">## [1] 15</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="dv">3</span><span class="op">^</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">## [1] 243</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="kw">exp</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">## [1] 7.389056</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">    <span class="kw">log</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">## [1] 1.098612</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">    <span class="kw">log2</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">## [1] 1.584963</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">    <span class="kw">factorial</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-15" data-line-number="15">## [1] 120</a></code></pre></div>

<p>Most of our operations will be performed on data objects:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">    <span class="co"># vector</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">    <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">## [1] 1 2 3 4</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">    <span class="co"># matrix </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">    <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="dv">2</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">##      [,1] [,2]</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">## [1,]    1    3</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">## [2,]    2    4</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="co"># create matrix from vectors </span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">    x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>); y =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">    <span class="kw">cbind</span>(x,y)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">##      x y</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">## [1,] 1 1</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">## [2,] 1 0</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">## [3,] 1 1</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">## [4,] 0 0</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">## [5,] 0 1</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">## [6,] 0 0</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">    <span class="co"># matrix multiplication</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20">    <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="dv">2</span>, <span class="dv">2</span>) <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(<span class="kw">cbind</span>(x,y))</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">##      [,1] [,2] [,3] [,4] [,5] [,6]</a>
<a class="sourceLine" id="cb2-22" data-line-number="22">## [1,]    4    1    4    0    3    0</a>
<a class="sourceLine" id="cb2-23" data-line-number="23">## [2,]    6    2    6    0    4    0</a>
<a class="sourceLine" id="cb2-24" data-line-number="24">    <span class="co"># some simple operations </span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25">    x[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb2-26" data-line-number="26">## [1] 1</a>
<a class="sourceLine" id="cb2-27" data-line-number="27">    x[<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb2-28" data-line-number="28">## [1] 1 1 0 0</a>
<a class="sourceLine" id="cb2-29" data-line-number="29">    <span class="kw">cbind</span>(x,y)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, ]</a>
<a class="sourceLine" id="cb2-30" data-line-number="30">##      x y</a>
<a class="sourceLine" id="cb2-31" data-line-number="31">## [1,] 1 1</a>
<a class="sourceLine" id="cb2-32" data-line-number="32">## [2,] 1 0</a>
<a class="sourceLine" id="cb2-33" data-line-number="33">    x <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb2-34" data-line-number="34">## [1] 2 2 2 1 1 1</a>
<a class="sourceLine" id="cb2-35" data-line-number="35">    <span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb2-36" data-line-number="36">## [1] 6</a>
<a class="sourceLine" id="cb2-37" data-line-number="37">    <span class="kw">dim</span>(<span class="kw">cbind</span>(x,y))</a>
<a class="sourceLine" id="cb2-38" data-line-number="38">## [1] 6 2</a>
<a class="sourceLine" id="cb2-39" data-line-number="39">    <span class="co"># A warning will be issued when R detects something wrong. Results may still be produced.</span></a>
<a class="sourceLine" id="cb2-40" data-line-number="40">    x <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb2-41" data-line-number="41">## Warning in x + c(1, 2, 3, 4): longer object length is not a multiple of</a>
<a class="sourceLine" id="cb2-42" data-line-number="42">## shorter object length</a>
<a class="sourceLine" id="cb2-43" data-line-number="43">## [1] 2 3 4 4 1 2</a></code></pre></div>

<p>Random number generation is important for statistical simulation.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">    <span class="co"># generate 10 Bernoulli random variables as a vector</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">    <span class="kw">rbinom</span>(<span class="dt">n=</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">prob =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">##  [1] 1 1 0 1 1 1 1 0 1 1</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    <span class="co"># 2 random normally distributed variables</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">    <span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">4</span>, <span class="dt">mean =</span> <span class="dv">1</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">## [1]  3.9705441 -0.7548416  1.7456274 -0.8212570</a></code></pre></div>

<p>If we need to replicate the results, we can set random seed</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">    <span class="co"># after setting the seed, the two runs will generate exactly the same &quot;random&quot; numbers</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">    <span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">    <span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">4</span>, <span class="dt">mean =</span> <span class="dv">1</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">## [1] -0.2529076  1.3672866 -0.6712572  4.1905616</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">    <span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">    <span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">4</span>, <span class="dt">mean =</span> <span class="dv">1</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">## [1] -0.2529076  1.3672866 -0.6712572  4.1905616</a></code></pre></div>

<p>Statistical functions that provides a summary of the data</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">    x =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">1</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">    y =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">    <span class="kw">sum</span>(x)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">## [1] 118.4815</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">    <span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">## [1] 1.184815</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">    <span class="kw">var</span>(x)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">## [1] 3.142351</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">    <span class="kw">median</span>(x)</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">## [1] 1.148906</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">    <span class="kw">quantile</span>(x, <span class="kw">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">##       25%       50%       75% </a>
<a class="sourceLine" id="cb5-13" data-line-number="13">## 0.0115149 1.1489063 2.2746083</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">    <span class="kw">cor</span>(x, y)</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">## [1] -0.04261199</a></code></pre></div>

<p>For discrete data, we usually use the table function</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">    <span class="kw">set.seed</span>(<span class="dv">1</span>); n =<span class="st"> </span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    x =<span class="st"> </span><span class="kw">rbinom</span>(n, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">prob =</span> <span class="fl">0.75</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">    y =<span class="st"> </span><span class="kw">rbinom</span>(n, <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>))</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    <span class="kw">table</span>(x)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">## x</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">##   0   1 </a>
<a class="sourceLine" id="cb6-7" data-line-number="7">## 248 752</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">    <span class="kw">table</span>(x, y)</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">##    y</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">## x     0   1   2   3</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">##   0 128  79  34   7</a>
<a class="sourceLine" id="cb6-12" data-line-number="12">##   1 342 267 125  18</a></code></pre></div>
<p>For a mixture of discrete and continuous data (multiple variables), we often use a data.frame</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">    <span class="co"># data.frame is a special data structure that can store both factor and numeric variables</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">    z =<span class="st"> </span><span class="kw">runif</span>(n, <span class="dt">min =</span> <span class="dv">18</span>, <span class="dt">max =</span> <span class="dv">65</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">    data =<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;Gender&quot;</span> =<span class="st"> </span><span class="kw">as.factor</span>(x), <span class="st">&quot;Group&quot;</span> =<span class="st"> </span><span class="kw">as.factor</span>(y), <span class="st">&quot;Age&quot;</span> =<span class="st"> </span>z)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">    <span class="kw">levels</span>(data<span class="op">$</span>Gender) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">    <span class="kw">levels</span>(data<span class="op">$</span>Group) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;patient&quot;</span>, <span class="st">&quot;physician&quot;</span>, <span class="st">&quot;engineer&quot;</span>, <span class="st">&quot;statistician&quot;</span>)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">    </a>
<a class="sourceLine" id="cb7-7" data-line-number="7">    <span class="co"># a peek at the top 3 entries of the data</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8">    <span class="kw">head</span>(data, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">##   Gender     Group      Age</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">## 1 female physician 58.97484</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">## 2 female physician 63.45826</a>
<a class="sourceLine" id="cb7-12" data-line-number="12">## 3 female   patient 58.74506</a>
<a class="sourceLine" id="cb7-13" data-line-number="13">    </a>
<a class="sourceLine" id="cb7-14" data-line-number="14">    <span class="co"># a brief summary</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15">    <span class="kw">summary</span>(data)</a>
<a class="sourceLine" id="cb7-16" data-line-number="16">##     Gender             Group          Age       </a>
<a class="sourceLine" id="cb7-17" data-line-number="17">##  male  :248   patient     :470   Min.   :18.03  </a>
<a class="sourceLine" id="cb7-18" data-line-number="18">##  female:752   physician   :346   1st Qu.:29.07  </a>
<a class="sourceLine" id="cb7-19" data-line-number="19">##               engineer    :159   Median :40.51  </a>
<a class="sourceLine" id="cb7-20" data-line-number="20">##               statistician: 25   Mean   :41.02  </a>
<a class="sourceLine" id="cb7-21" data-line-number="21">##                                  3rd Qu.:53.43  </a>
<a class="sourceLine" id="cb7-22" data-line-number="22">##                                  Max.   :64.99</a>
<a class="sourceLine" id="cb7-23" data-line-number="23">    </a>
<a class="sourceLine" id="cb7-24" data-line-number="24">    <span class="co"># generate a 2 by 2 table that summarizes Gender and Group</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25">    <span class="kw">table</span>(data[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])</a>
<a class="sourceLine" id="cb7-26" data-line-number="26">##         Group</a>
<a class="sourceLine" id="cb7-27" data-line-number="27">## Gender   patient physician engineer statistician</a>
<a class="sourceLine" id="cb7-28" data-line-number="28">##   male       128        79       34            7</a>
<a class="sourceLine" id="cb7-29" data-line-number="29">##   female     342       267      125           18</a></code></pre></div>

<p>Fisher Exact Test and Chi-square test are tests of independence between two nominal variables.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">    <span class="co"># the test p-value is not significant</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">    <span class="co"># recall that we generated the two variables independently.</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">    <span class="kw">fisher.test</span>(<span class="kw">table</span>(data[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]))</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">## </a>
<a class="sourceLine" id="cb8-5" data-line-number="5">##  Fisher&#39;s Exact Test for Count Data</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">## </a>
<a class="sourceLine" id="cb8-7" data-line-number="7">## data:  table(data[, 1:2])</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">## p-value = 0.3361</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">## alternative hypothesis: two.sided</a>
<a class="sourceLine" id="cb8-10" data-line-number="10"></a>
<a class="sourceLine" id="cb8-11" data-line-number="11">    <span class="co"># chi-square test</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12">    <span class="kw">chisq.test</span>(<span class="kw">table</span>(data[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]))</a>
<a class="sourceLine" id="cb8-13" data-line-number="13">## </a>
<a class="sourceLine" id="cb8-14" data-line-number="14">##  Pearson&#39;s Chi-squared test</a>
<a class="sourceLine" id="cb8-15" data-line-number="15">## </a>
<a class="sourceLine" id="cb8-16" data-line-number="16">## data:  table(data[, 1:2])</a>
<a class="sourceLine" id="cb8-17" data-line-number="17">## X-squared = 3.3437, df = 3, p-value = 0.3416</a></code></pre></div>
<p>For continuous variables, we can calculate and test Pearson’s correlation, Spearman’s rho or Kendall’ tau</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">    <span class="kw">set.seed</span>(<span class="dv">1</span>); n =<span class="st"> </span><span class="dv">30</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">    x =<span class="st"> </span><span class="kw">rnorm</span>(n)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">    y =<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">    z =<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">    </a>
<a class="sourceLine" id="cb9-6" data-line-number="6">    <span class="co"># one can specify method = &quot;kendall&quot; or &quot;spearman&quot; to perform other correlations or tests</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">    <span class="kw">cor</span>(y, z)</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">## [1] 0.5810874</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">    <span class="kw">cor.test</span>(y, z)</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">## </a>
<a class="sourceLine" id="cb9-11" data-line-number="11">##  Pearson&#39;s product-moment correlation</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">## </a>
<a class="sourceLine" id="cb9-13" data-line-number="13">## data:  y and z</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">## t = 3.7782, df = 28, p-value = 0.0007592</a>
<a class="sourceLine" id="cb9-15" data-line-number="15">## alternative hypothesis: true correlation is not equal to 0</a>
<a class="sourceLine" id="cb9-16" data-line-number="16">## 95 percent confidence interval:</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">##  0.2792861 0.7784002</a>
<a class="sourceLine" id="cb9-18" data-line-number="18">## sample estimates:</a>
<a class="sourceLine" id="cb9-19" data-line-number="19">##       cor </a>
<a class="sourceLine" id="cb9-20" data-line-number="20">## 0.5810874</a></code></pre></div>

<p>A simple linear regression assumes the underlying model <span class="math inline">\(Y = \beta X + \epsilon\)</span>. With observed data, we can estimate the regression coefficients:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">    <span class="co"># the lm() function is the most commonly used</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">    fit =<span class="st"> </span><span class="kw">lm</span>(y<span class="op">~</span>x)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">    <span class="kw">summary</span>(fit)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">## </a>
<a class="sourceLine" id="cb10-5" data-line-number="5">## Call:</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">## lm(formula = y ~ x)</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">## </a>
<a class="sourceLine" id="cb10-8" data-line-number="8">## Residuals:</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">##     Min      1Q  Median      3Q     Max </a>
<a class="sourceLine" id="cb10-10" data-line-number="10">## -3.0404 -1.0099 -0.4594  1.1506  3.7069 </a>
<a class="sourceLine" id="cb10-11" data-line-number="11">## </a>
<a class="sourceLine" id="cb10-12" data-line-number="12">## Coefficients:</a>
<a class="sourceLine" id="cb10-13" data-line-number="13">##             Estimate Std. Error t value Pr(&gt;|t|)   </a>
<a class="sourceLine" id="cb10-14" data-line-number="14">## (Intercept)   0.2586     0.2964   0.873  0.39032   </a>
<a class="sourceLine" id="cb10-15" data-line-number="15">## x             1.0838     0.3249   3.336  0.00241 **</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">## ---</a>
<a class="sourceLine" id="cb10-17" data-line-number="17">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</a>
<a class="sourceLine" id="cb10-18" data-line-number="18">## </a>
<a class="sourceLine" id="cb10-19" data-line-number="19">## Residual standard error: 1.617 on 28 degrees of freedom</a>
<a class="sourceLine" id="cb10-20" data-line-number="20">## Multiple R-squared:  0.2844, Adjusted R-squared:  0.2588 </a>
<a class="sourceLine" id="cb10-21" data-line-number="21">## F-statistic: 11.13 on 1 and 28 DF,  p-value: 0.00241</a></code></pre></div>

<p>A graphical view usually helps understand the data better. There are a variety of ways to customize your plot, such as color and shape.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">    <span class="kw">plot</span>(x, y, <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;y&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;A plot&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;darkorange&quot;</span>, <span class="dt">pch =</span> <span class="dv">19</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">    <span class="kw">abline</span>(<span class="dt">a =</span> fit<span class="op">$</span>coefficients[<span class="dv">1</span>], <span class="dt">b =</span> fit<span class="op">$</span>coefficients[<span class="dv">2</span>], </a>
<a class="sourceLine" id="cb11-3" data-line-number="3">           <span class="dt">col =</span> <span class="st">&quot;deepskyblue&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">    <span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;observed points&quot;</span>, <span class="st">&quot;fitted line&quot;</span>), <span class="dt">lty =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb11-5" data-line-number="5">           <span class="dt">pch =</span> <span class="kw">c</span>(<span class="dv">19</span>, <span class="ot">NA</span>), <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;deepskyblue&quot;</span>))</a></code></pre></div>
<p><img src="1.1-r-basics_files/figure-html/unnamed-chunk-11-1.png" width=".49\linewidth" style="display: block; margin: auto;" /></p>


<p>R can read-in data from many different sources such as , , etc. For example,  can be used to import  files. The first argument should be specified as the path to the data file, or just the name of the file if the current working directory is the same as the data file. R objects, especially matrices, can be saved into these standard files. Use functions such as  and  to perform this. We can also save any object into  file, which can be loaded later on. To do this try functions  and .</p>

<p>One of the most important features of R is its massive collection of packages. A package is like an add-on that can be downloaded and installed and perform additional function and analysis.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">    <span class="co"># The MASS package can be used to generate multivariate normal distribution </span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">    <span class="kw">library</span>(MASS)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">    P =<span class="st"> </span><span class="dv">4</span>; N =<span class="st"> </span><span class="dv">200</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    V &lt;-<span class="st"> </span><span class="fl">0.5</span><span class="op">^</span><span class="kw">abs</span>(<span class="kw">outer</span>(<span class="dv">1</span><span class="op">:</span>P, <span class="dv">1</span><span class="op">:</span>P, <span class="st">&quot;-&quot;</span>))</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">    X =<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">mvrnorm</span>(N, <span class="dt">mu=</span><span class="kw">rep</span>(<span class="dv">0</span>,P), <span class="dt">Sigma=</span>V))</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">    <span class="kw">head</span>(X, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-7" data-line-number="7">##            [,1]      [,2]        [,3]        [,4]</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">## [1,] -0.5324135  1.022266  0.54818061  0.32146101</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">## [2,]  0.4287820 -1.612594 -1.79219165 -0.07651307</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">## [3,] -0.5563969 -1.335632  0.03372782 -1.62713529</a></code></pre></div>

<p>To get reference about a particular function, one can put a question mark in front of a function name to see details:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">    <span class="co"># This will open up the web browser for the on-line document </span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">    ?mvrnorm</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">    ?save.image</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modeling-basics-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/daviddalpiaz/r4sl/edit/master/1.1-r-basics.Rmd",
"text": "Edit"
},
"download": ["RESL.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
